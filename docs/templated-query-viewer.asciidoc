[[templated-query-viewer]]
=== Templated query viewer

This visualization displays the results from multiple queries on external
data sources using query templates.

To add a query to the visualization, click on the _Add query_ button, then
set the following parameters:

- _Source query_: the query used by the template.
- _Template_: the template used to render results returned by _Source query_.

If one of the source queries requires an entity to be selected, you can set
an entity URI for testing in the input field above the preview.

If a source query is not <<activation-query, activated>>, the corresponding
template will not be rendered.

The screenshots below show the configuration and output of a Templated query
viewer visualization for a selected company:

image::images/templated-query-viewer/templated-query-viewer-config.png["Configuration of a templated query viewer visualization",align="center"]

[float]
[[templated-query-viewer-advanced]]
==== Advanced options

By clicking on the _Advanced_ link, you can set additional rendering options.

It is possible to set additional template variables by writing them as JSON
object properties in the _Template variables_ textarea.

For example, to customize the heading of the <<datasource-templates,generic table template>>,
which is set by default to the id of the source query, you can customize the
`label` variable as follows:

[source,json]
----
{
    "label": "Info"
}
----

By default, template contents are hidden and can be displayed by clicking on
the _show_ link in the heading; to make template contents visible by default,
check _Render opened_ box.

image::images/templated-query-viewer/templated-query-viewer-advanced.png["Advanced options",align="center"]
